(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf8c52a4"],{"1f4f":function(t,a,e){"use strict";var n=e("5530"),s=(e("a9e3"),e("8b37"),e("80d2")),i=e("7560"),o=e("58df");a["a"]=Object(o["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"8b37":function(t,a,e){},e71a:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"detail-info"},[e("div",{staticClass:"item secondary"},[t.data&&t.state_list?e("v-simple-table",{attrs:{border:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("tbody",[e("tr",[e("td",{attrs:{width:"300px"}},[t._v("Mã đơn hàng")]),e("td",[t._v(t._s(t.data.code))])]),e("tr",[e("td",[t._v("Số điện thoại")]),e("td",[t._v(t._s(t.data.phone))])]),e("tr",[e("td",[t._v("Số lượng mua")]),e("td",{staticClass:"uppercase"},[t._v(t._s(t.data.amount)+" "+t._s(t.data.token)+" ("+t._s(t.data.network)+")")])]),e("tr",[e("td",[t._v("Số tiền thanh toán")]),e("td",[t._v(t._s(t.formatMoney(t.data.money))+" VND")])]),e("tr",[e("td",[t._v("Tỷ giá")]),e("td",[t._v(t._s(t.formatMoney(t.data.rate))+" VND")])]),e("tr",[e("td",[t._v("Tiền phí")]),e("td",[t._v(t._s(t.formatMoney(t.data.fee))+" VND")])]),e("tr",[e("td",[t._v("Địa chỉ ví nhận")]),e("td",[t._v(t._s(t.data.address))])]),e("tr",[e("td",[t._v("Thời gian")]),e("td",[t._v(t._s(t.formatDate(t.data.created_at)))])]),e("tr",[e("td",[t._v("Thông báo KH")]),e("td",[t._v(t._s(t.data.description))])]),e("tr",[e("td",[t._v("Trạng thái")]),e("td",[t.stateDetail(t.data.status)?e("p",{style:{color:""+t.stateDetail(t.data.status).color}},[t._v(" "+t._s(t.stateDetail(t.data.status).status)+" ")]):t._e()])])])]},proxy:!0}],null,!1,1659634419)}):t._e(),e("v-card",{staticClass:"pa-5",attrs:{outlined:""}},[e("ul",[e("li",[t._v("Hãy chắc chắn rằng bạn đã nhận "),e("b",[t._v(t._s(t.formatMoney(t.data.money))+" VND")])]),e("li",[t._v("Sau đó chuyển "),e("b",{staticClass:"uppercase"},[t._v(t._s(t.data.amount)+" "+t._s(t.data.token)+" ("+t._s(t.data.network)+")")]),t._v(" tới ví "),e("b",[t._v(t._s(t.data.address))])])])]),e("div",[e("v-btn",{staticClass:"mt-5",attrs:{color:"primary"},on:{click:t.confirmOrder}},[t._v(" Xác nhận thành công ")]),e("v-btn",{staticClass:"ml-3 mt-5",attrs:{color:"error"},on:{click:function(a){t.dialog=!0}}},[t._v("Hủy đơn hàng")])],1)],1),e("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",[t._v("Thông báo lý do đơn hàng bị hủy")]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(a){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-divider"),e("div",{staticClass:"mx-6 mt-6"},[e("v-text-field",{attrs:{outlined:"",clearable:""},model:{value:t.reason,callback:function(a){t.reason=a},expression:"reason"}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"default",on:{click:function(a){t.dialog=!1}}},[t._v(" Hủy ")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.cancleOrder}},[t._v(" Xác nhận ")]),e("v-spacer")],1)],1)],1)],1)},s=[],i=(e("4de4"),e("99af"),e("ac1f"),e("5319"),e("d3b7"),e("25f0"),e("b680"),{data:function(){return{dialog:"",data:"",state_list:"",reason:"Do chúng tôi chưa nhận được khoản tiền bạn phải thanh toán"}},mounted:function(){var t=this;this.getData(),this.CallAPI("get","manage/state",{},(function(a){t.state_list=a.data}))},methods:{stateDetail:function(t){if(!this.state_list)return"";var a=this.state_list.filter((function(a){return a.id==t}));return a[0]},getData:function(){var t=this;this.CallAPI("get","manage/buy-order/"+this.$route.params.id,{},(function(a){t.data=a.data}))},confirmOrder:function(){var t=this;this.CallAPI("put","manage/buy-order/"+this.$route.params.id,{status:1,description:"Đơn hàng giao dịch thành công"},(function(a){t.$toast.success("Xác nhận đơn hàng thành công"),t.dialog=!1,t.sendNotifi("#3ED050","Giao dịch mã ".concat(t.data.code," đã thành công. Vui lòng kiểm tra ví của bạn"),"/history"),t.getData()}))},cancleOrder:function(){var t=this;this.CallAPI("put","manage/buy-order/"+this.$route.params.id,{status:2,description:this.reason},(function(a){t.$toast.success("Hủy đơn hàng thành công"),t.sendNotifi("#E53333","Giao dịch mã ".concat(t.data.code," đã bị hủy. ").concat(t.reason),"/history"),t.dialog=!1,t.getData()}))},sendNotifi:function(t,a,e){this.CallAPI("post","manage/notification",{phone:this.data.phone,color:t,content:a,url:e})},formatMoney:function(t){return t?String(parseFloat(t).toFixed(0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},formatDate:function(t){var a=new Date(t);return a.toLocaleString()}}}),o=i,r=e("2877"),d=e("6544"),c=e.n(d),l=e("8336"),h=e("b0af"),u=e("99d9"),v=e("169a"),f=e("ce7e"),_=e("132d"),p=e("1f4f"),g=e("2fa4"),m=e("8654"),b=Object(r["a"])(o,n,s,!1,null,null,null);a["default"]=b.exports;c()(b,{VBtn:l["a"],VCard:h["a"],VCardActions:u["a"],VCardTitle:u["c"],VDialog:v["a"],VDivider:f["a"],VIcon:_["a"],VSimpleTable:p["a"],VSpacer:g["a"],VTextField:m["a"]})}}]);