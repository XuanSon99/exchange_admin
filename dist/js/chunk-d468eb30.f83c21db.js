(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d468eb30"],{"1f4f":function(t,a,n){"use strict";var e=n("5530"),s=(n("a9e3"),n("8b37"),n("80d2")),i=n("7560"),o=n("58df");a["a"]=Object(o["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(e["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"8b37":function(t,a,n){},"922a":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("main",{staticClass:"detail-info"},[n("div",{staticClass:"item secondary"},[t.data&&t.state_list?n("v-simple-table",{attrs:{border:""},scopedSlots:t._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{attrs:{width:"300px"}},[t._v("Mã đơn hàng")]),n("td",[t._v(t._s(t.data.code))])]),n("tr",[n("td",[t._v("Số điện thoại")]),n("td",[t._v(t._s(t.data.phone))])]),n("tr",[n("td",[t._v("Số lượng bán")]),n("td",{staticClass:"uppercase"},[t._v(t._s(t.data.amount)+" "+t._s(t.data.token)+" ("+t._s(t.data.network)+")")])]),n("tr",[n("td",[t._v("Số tiền nhận được")]),n("td",[t._v(t._s(t.formatMoney(t.data.money))+" VND")])]),n("tr",[n("td",[t._v("Tỷ giá")]),n("td",[t._v(t._s(t.formatMoney(t.data.rate))+" VND")])]),n("tr",[n("td",[t._v("Tiền phí")]),n("td",[t._v(t._s(t.formatMoney(t.data.fee))+" VND")])]),n("tr",[n("td",[t._v("Ngân hàng nhận tiền")]),n("td",[t._v(" "+t._s(t.data.account_number)+" - "+t._s(t.data.bank_name)+" - "+t._s(t.data.owner_name)+" ")])]),n("tr",[n("td",[t._v("Thời gian")]),n("td",[t._v(t._s(t.formatDate(t.data.created_at)))])]),n("tr",[n("td",[t._v("Thông báo KH")]),n("td",[t._v(t._s(t.data.description))])]),n("tr",[n("td",[t._v("Trạng thái")]),n("td",[t.stateDetail(t.data.status)?n("p",{style:{color:""+t.stateDetail(t.data.status).color}},[t._v(" "+t._s(t.stateDetail(t.data.status).status)+" ")]):t._e()])])])]},proxy:!0}],null,!1,178629525)}):t._e(),n("v-card",{staticClass:"pa-5",attrs:{outlined:""}},[n("ul",[n("li",[t._v("Hãy chắc chắn rằng bạn đã nhận "),n("b",{staticClass:"uppercase main-color"},[t._v(t._s(t.data.amount)+" "+t._s(t.data.token)+" ("+t._s(t.data.network)+")")])]),n("li",[t._v(" Sau đó chuyển "),n("b",{staticClass:"main-color"},[t._v(t._s(t.formatMoney(t.data.money))+" VND")]),t._v(" vào ngân hàng: "),n("b",{staticClass:"main-color"},[t._v(t._s(t.data.account_number)+" - "+t._s(t.data.bank_name)+" - "+t._s(t.data.owner_name))])])])]),n("div",[n("v-btn",{staticClass:"mt-5",attrs:{color:"primary"},on:{click:t.confirmOrder}},[t._v(" Xác nhận thành công ")]),n("v-btn",{staticClass:"ml-3 mt-5",attrs:{color:"error"},on:{click:function(a){t.dialog=!0}}},[t._v("Hủy đơn hàng")])],1)],1),n("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",[t._v("Lý do đơn hàng bị hủy")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(a){t.dialog=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-divider"),n("div",{staticClass:"mx-6 mt-6"},[n("v-text-field",{attrs:{outlined:"",clearable:""},model:{value:t.reason,callback:function(a){t.reason=a},expression:"reason"}},[t._v("Nhập lý do")])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"default",on:{click:function(a){t.dialog=!1}}},[t._v(" Hủy ")]),n("v-btn",{attrs:{color:"primary"},on:{click:t.cancleOrder}},[t._v(" Xác nhận ")]),n("v-spacer")],1)],1)],1)],1)},s=[],i=(n("4de4"),n("99af"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("b680"),{data:function(){return{dialog:"",data:"",state_list:"",reason:"Do chúng tôi chưa nhận được khoản tiền bạn phải thanh toán"}},mounted:function(){var t=this;this.getData(),this.CallAPI("get","manage/state",{},(function(a){t.state_list=a.data}))},methods:{stateDetail:function(t){if(!this.state_list)return"";var a=this.state_list.filter((function(a){return a.id==t}));return a[0]},getData:function(){var t=this;this.CallAPI("get","manage/sell-order/"+this.$route.params.id,{},(function(a){t.data=a.data}))},confirmOrder:function(){var t=this;this.CallAPI("put","manage/sell-order/"+this.$route.params.id,{status:1,description:"Đơn hàng giao dịch thành công"},(function(a){t.$toast.success("Xác nhận đơn hàng thành công"),t.sendNotifi("#3ED050","Giao dịch mã ".concat(t.data.code," đã thành công. Vui lòng kiểm tra tài khoản của bạn")),t.dialog=!1,t.getData()}))},cancleOrder:function(){var t=this;this.CallAPI("put","manage/sell-order/"+this.$route.params.id,{status:2,description:this.reason},(function(a){t.$toast.success("Hủy đơn hàng thành công"),t.sendNotifi("#E53333","Giao dịch mã ".concat(t.data.code," đã bị hủy. ").concat(t.reason)),t.dialog=!1,t.getData()}))},sendNotifi:function(t,a){this.CallAPI("post","manage/notification",{phone:this.data.phone,color:t,content:a})},formatMoney:function(t){return t?String(parseFloat(t).toFixed(0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},formatDate:function(t){var a=new Date(t);return a.toLocaleString()}}}),o=i,r=n("2877"),d=n("6544"),c=n.n(d),l=n("8336"),h=n("b0af"),u=n("99d9"),v=n("169a"),_=n("ce7e"),f=n("132d"),m=n("1f4f"),g=n("2fa4"),p=n("8654"),b=Object(r["a"])(o,e,s,!1,null,null,null);a["default"]=b.exports;c()(b,{VBtn:l["a"],VCard:h["a"],VCardActions:u["a"],VCardTitle:u["c"],VDialog:v["a"],VDivider:_["a"],VIcon:f["a"],VSimpleTable:m["a"],VSpacer:g["a"],VTextField:p["a"]})}}]);